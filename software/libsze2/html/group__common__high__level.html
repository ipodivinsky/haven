<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>My Project: High level functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">High level functions<div class="ingroups"><a class="el" href="group__common.html">Common macros, structures, functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaef5af4dd81679052e2e7447645e17946"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structszedata.html">szedata</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__common__high__level.html#gaef5af4dd81679052e2e7447645e17946">szedata_open</a> (const char *node)</td></tr>
<tr class="separator:gaef5af4dd81679052e2e7447645e17946"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2da9d13fccabb3ecbaaddc0152699ffa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__common__high__level.html#ga2da9d13fccabb3ecbaaddc0152699ffa">szedata_subscribe3</a> (struct <a class="el" href="structszedata.html">szedata</a> *sze, __u32 *rx, __u32 *tx)</td></tr>
<tr class="separator:ga2da9d13fccabb3ecbaaddc0152699ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7341cd1df0145dd8712351ef2b3b331"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae7341cd1df0145dd8712351ef2b3b331"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>__attribute__</b> ((deprecated)) szedata_subscribe(struct <a class="el" href="structszedata.html">szedata</a> *sze</td></tr>
<tr class="separator:gae7341cd1df0145dd8712351ef2b3b331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga106a776e42e3c2a6a054795b9e14eed0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga106a776e42e3c2a6a054795b9e14eed0"></a>
int __u32 __u32 __u32&#160;</td><td class="memItemRight" valign="bottom"><b>__attribute__</b> ((unused)) res1</td></tr>
<tr class="separator:ga106a776e42e3c2a6a054795b9e14eed0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae736e173c549f49942555de43ee807db"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__common__high__level.html#gae736e173c549f49942555de43ee807db">szedata_start</a> (struct <a class="el" href="structszedata.html">szedata</a> *sze)</td></tr>
<tr class="separator:gae736e173c549f49942555de43ee807db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d06d3393a959eaa2a7973780eb94e32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__common__high__level.html#ga6d06d3393a959eaa2a7973780eb94e32">szedata_close</a> (struct <a class="el" href="structszedata.html">szedata</a> *sze)</td></tr>
<tr class="separator:ga6d06d3393a959eaa2a7973780eb94e32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga287d9deedc0d2ae6ee4f3302bfb4b865"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__common__high__level.html#ga287d9deedc0d2ae6ee4f3302bfb4b865">szedata_print_packet</a> (unsigned char *content, unsigned short print_options)</td></tr>
<tr class="memdesc:ga287d9deedc0d2ae6ee4f3302bfb4b865"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print sze packet from buffer.  <a href="#ga287d9deedc0d2ae6ee4f3302bfb4b865">More...</a><br/></td></tr>
<tr class="separator:ga287d9deedc0d2ae6ee4f3302bfb4b865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac2dd99faeaa65eee18e72702a41a0324"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__common__high__level.html#gac2dd99faeaa65eee18e72702a41a0324">szedata_decode_packet</a> (unsigned char *contents, unsigned char **<a class="el" href="libsze2_8h.html#a1bfe8b027f6e5624818c1a92b91bf6d2">data</a>, unsigned char **hw_data, unsigned int *data_len, unsigned int *hw_data_len)</td></tr>
<tr class="memdesc:gac2dd99faeaa65eee18e72702a41a0324"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get length of hw_data and data from sze packet header, get pointers to hw_data and data within contents.  <a href="#gac2dd99faeaa65eee18e72702a41a0324">More...</a><br/></td></tr>
<tr class="separator:gac2dd99faeaa65eee18e72702a41a0324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf94f33c7c7bc94832b07c29da5856a9b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__common__high__level.html#gaf94f33c7c7bc94832b07c29da5856a9b">szedata_ifaces_available</a> (struct <a class="el" href="structszedata.html">szedata</a> *sze, enum sze2_dir)</td></tr>
<tr class="separator:gaf94f33c7c7bc94832b07c29da5856a9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaf7b19b2f99d16b231e8213cdc53a9595"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf7b19b2f99d16b231e8213cdc53a9595"></a>
int __u32 *&#160;</td><td class="memItemRight" valign="bottom"><b>rx</b></td></tr>
<tr class="separator:gaf7b19b2f99d16b231e8213cdc53a9595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd34e5428fc7af11dab033c19dd03b9b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gadd34e5428fc7af11dab033c19dd03b9b"></a>
int __u32 __u32 *&#160;</td><td class="memItemRight" valign="bottom"><b>tx</b></td></tr>
<tr class="separator:gadd34e5428fc7af11dab033c19dd03b9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga6d06d3393a959eaa2a7973780eb94e32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void szedata_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structszedata.html">szedata</a> *&#160;</td>
          <td class="paramname"><em>sze</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>cleanup everything</p>
<p>Stop hardware if no other is using it. Cleanup userspace (unmap all spaces and free memory).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sze</td><td>pointer which returned szedata open </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac2dd99faeaa65eee18e72702a41a0324"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int szedata_decode_packet </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>contents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&#160;</td>
          <td class="paramname"><em>hw_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>data_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>hw_data_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get length of hw_data and data from sze packet header, get pointers to hw_data and data within contents. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">contents</td><td>Sze packet - acquired by szedata_read_next </td></tr>
    <tr><td class="paramname">*data</td><td>Return parameter - will point to data </td></tr>
    <tr><td class="paramname">*hw_data</td><td>Return parameter - will pint to hw_data </td></tr>
    <tr><td class="paramname">data_len</td><td>Return parameter - length of data </td></tr>
    <tr><td class="paramname">hw_data_len</td><td>Return parameter - length of hw_data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>segsize - whole packet length without zeros </dd></dl>

</div>
</div>
<a class="anchor" id="gaf94f33c7c7bc94832b07c29da5856a9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int szedata_ifaces_available </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structszedata.html">szedata</a> *&#160;</td>
          <td class="paramname"><em>sze</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum sze2_dir&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>return number of available interfaces</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sze</td><td>structure returned by szedata_open </td></tr>
    <tr><td class="paramname">flow</td><td>direction (SZE2_DIR_RX/SZE2_DIR_TX/SZE2_DIR_ALL) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of interfaces </dd></dl>

</div>
</div>
<a class="anchor" id="gaef5af4dd81679052e2e7447645e17946"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structszedata.html">szedata</a>* szedata_open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>open szedata device node</p>
<p>Also remaps also all available spaces and does necessary initialization.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>string describing which node to open </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL on failure, otherwise pointer to a structure, which is passed to another functions as primary parameter </dd></dl>

</div>
</div>
<a class="anchor" id="ga287d9deedc0d2ae6ee4f3302bfb4b865"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void szedata_print_packet </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>print_options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print sze packet from buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">content</td><td>Buffer with packet </td></tr>
    <tr><td class="paramname">print_options</td><td>Print options bitmap - SZE2_PRINT_OPTION_ALL, SZE2_PRINT_OPTION_SW, SZE2_PRINT_OPTION_HW</td></tr>
  </table>
  </dd>
</dl>
<p>Offset is printed in two values - first offset in szedata packet, second offset in current part - header, hw_data, sw_data. Combine print options SZEDATA_PRINT by logical or |. </p>

</div>
</div>
<a class="anchor" id="gae736e173c549f49942555de43ee807db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int szedata_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structszedata.html">szedata</a> *&#160;</td>
          <td class="paramname"><em>sze</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>start subscribed interfaces</p>
<p>Might be called multiple times, always after <em>successful</em> subscribe of some areas. Otherwise it will fail.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sze</td><td>pointer returned by sze open function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>zero on success, otherwise errno </dd></dl>

</div>
</div>
<a class="anchor" id="ga2da9d13fccabb3ecbaaddc0152699ffa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int szedata_subscribe3 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structszedata.html">szedata</a> *&#160;</td>
          <td class="paramname"><em>sze</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&#160;</td>
          <td class="paramname"><em>rx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&#160;</td>
          <td class="paramname"><em>tx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>subscribe interfaces to read from or write to</p>
<p>This is usually called after szedata_open to select which interfaces we want to use and how long (for how many bytes) wait if there is no data available and poll is invoked. Both per both rx and tx.</p>
<p>The masks returned in rx and tx must not be the same as requested. Some interface might fail to subscribe.</p>
<p>It is suitable to subscribe only interfaces physically available for used design e.g. flowmon with only 1 RX interface - rx = 0x1 tx=0x00, e.g. NIC with 4 RX and 4 TX interfaces - rx = 0xf tx=0xf.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sze</td><td>structure returned by szedata_open </td></tr>
    <tr><td class="paramname">rx</td><td>bitmap of interfaces to subscribe for rx (filled back) </td></tr>
    <tr><td class="paramname">tx</td><td>bitmap of interfaces to subscribe for tx (filled back) </td></tr>
    <tr><td class="paramname">res1</td><td>unused now </td></tr>
    <tr><td class="paramname">res2</td><td>unused now </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 &ndash; success, nonzero &ndash; failure </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Feb 16 2014 12:49:58 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>

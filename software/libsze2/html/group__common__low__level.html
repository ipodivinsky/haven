<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>My Project: Low level functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Low level functions<div class="ingroups"><a class="el" href="group__common.html">Common macros, structures, functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5fdf6e1921998adbd08cdc86c05441ba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__common__low__level.html#ga5fdf6e1921998adbd08cdc86c05441ba">szedata_poll</a> (struct <a class="el" href="structszedata.html">szedata</a> *sze, short *events, int timeout)</td></tr>
<tr class="separator:ga5fdf6e1921998adbd08cdc86c05441ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70e63fc3de2735fba26a62d960d5cede"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structszedata__lock.html">szedata_lock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__common__low__level.html#ga70e63fc3de2735fba26a62d960d5cede">szedata_rx_lock_data</a> (struct <a class="el" href="structszedata.html">szedata</a> *sze, __u32 areas)</td></tr>
<tr class="separator:ga70e63fc3de2735fba26a62d960d5cede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14d5dc9ea857d5a7485a0fa0791eac46"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga14d5dc9ea857d5a7485a0fa0791eac46"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>szedata_rx_unlock_data</b> (struct <a class="el" href="structszedata.html">szedata</a> *sze, const struct <a class="el" href="structszedata__lock.html">szedata_lock</a> *lock)</td></tr>
<tr class="separator:ga14d5dc9ea857d5a7485a0fa0791eac46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad82e644551b1fe12960dfbf175677653"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structszedata__lock.html">szedata_lock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__common__low__level.html#gad82e644551b1fe12960dfbf175677653">szedata_tx_lock_data</a> (struct <a class="el" href="structszedata.html">szedata</a> *sze, __u32 size, __u8 area)</td></tr>
<tr class="separator:gad82e644551b1fe12960dfbf175677653"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7fe8fbf156510d879f84f69f32b482ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__common__low__level.html#ga7fe8fbf156510d879f84f69f32b482ab">szedata_tx_unlock_data</a> (struct <a class="el" href="structszedata.html">szedata</a> *sze, const struct <a class="el" href="structszedata__lock.html">szedata_lock</a> *lock, __u32 size)</td></tr>
<tr class="separator:ga7fe8fbf156510d879f84f69f32b482ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00bd764238502684b65ab21063db5f0d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga00bd764238502684b65ab21063db5f0d"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>szedata_get_area_size</b> (struct <a class="el" href="structszedata.html">szedata</a> *sze, __u8 space, __u8 area, __u32 *size)</td></tr>
<tr class="separator:ga00bd764238502684b65ab21063db5f0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafac1c6b8a1108fa350d9add4ccb46378"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__common__low__level.html#gafac1c6b8a1108fa350d9add4ccb46378">szedata_fd</a> (struct <a class="el" href="structszedata.html">szedata</a> *sze)</td></tr>
<tr class="separator:gafac1c6b8a1108fa350d9add4ccb46378"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gafac1c6b8a1108fa350d9add4ccb46378"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int szedata_fd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structszedata.html">szedata</a> *&#160;</td>
          <td class="paramname"><em>sze</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>return currently opened filedescriptor (some apps may use their own poll)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sze</td><td>pointer returned by <a class="el" href="group__common__high__level.html#gaef5af4dd81679052e2e7447645e17946">szedata_open()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>file descriptor on success, -1 on failure (if sze == NULL)</dd></dl>
<p>Don't use this unless you really know what are you doing. Some crud like pcap needs this. </p>

</div>
</div>
<a class="anchor" id="ga5fdf6e1921998adbd08cdc86c05441ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int szedata_poll </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structszedata.html">szedata</a> *&#160;</td>
          <td class="paramname"><em>sze</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait for hardware to be ready</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sze</td><td>pointer obtained from szedata open </td></tr>
    <tr><td class="paramname">events</td><td>pointer to events to which wait to and where to return to which of them is ready </td></tr>
    <tr><td class="paramname">timeout</td><td>how long to wait in ms. Negative means forever. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>negative on error, zero on timeout, positive when OK </dd></dl>

</div>
</div>
<a class="anchor" id="ga70e63fc3de2735fba26a62d960d5cede"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structszedata__lock.html">szedata_lock</a>* szedata_rx_lock_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structszedata.html">szedata</a> *&#160;</td>
          <td class="paramname"><em>sze</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&#160;</td>
          <td class="paramname"><em>areas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>gives back some data, which are ready</p>
<p>If there is no data, NULL is returned. Also if there is internal wrap of ringbuffer (userspace should haven't known about the implementation), it is possible, then 2 structures are returned instead of only one. In that case user should read lock-&gt;size from lock-&gt;start as usually and then continue with lock-&gt;next unless next is NULL. It means ever check lock-&gt;next.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sze</td><td>pointer to structure from szedata open function </td></tr>
    <tr><td class="paramname">areas</td><td>bitmap of areas where to data request from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL on error or no data ready, otherwise pointer to lock structure </dd></dl>

</div>
</div>
<a class="anchor" id="gad82e644551b1fe12960dfbf175677653"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structszedata__lock.html">szedata_lock</a>* szedata_tx_lock_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structszedata.html">szedata</a> *&#160;</td>
          <td class="paramname"><em>sze</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u8&#160;</td>
          <td class="paramname"><em>area</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>lock some space for writing</p>
<p>Driver or library might make the size smaller than requested. Count with this! Also the space might be divided into two logical spaces, check comment in rx lock and fill unless lock-&gt;next is NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sze</td><td>return value of szedata's open function </td></tr>
    <tr><td class="paramname">size</td><td>how much space is demanded </td></tr>
    <tr><td class="paramname">area</td><td>in which area are we interested (not bitmap, direct number) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL on no space was locked, otherwise lock structure </dd></dl>

</div>
</div>
<a class="anchor" id="ga7fe8fbf156510d879f84f69f32b482ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int szedata_tx_unlock_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structszedata.html">szedata</a> *&#160;</td>
          <td class="paramname"><em>sze</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structszedata__lock.html">szedata_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>tell the hardware to process written data</p>
<p>Size passed here might be smaller than the requested (or the returned one from tx lock), it means, that the user has written data of only that size in real. This is correct approach and 0 is even correct, it means returned buffer is too small for me.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sze</td><td>this is what szedata open returns </td></tr>
    <tr><td class="paramname">lock</td><td>pointer obtained from tx lock </td></tr>
    <tr><td class="paramname">size</td><td>really written count </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, errno on failure </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Feb 16 2014 12:49:58 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
